(this["webpackJsonproom-allocator"]=this["webpackJsonproom-allocator"]||[]).push([[0],{57:function(e,t,n){},68:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),r=n.n(c),o=n(14),s=n.n(o),i=(n(68),n(9)),j=n(35);var l=function(e){function t(e){var t,n=Object(j.a)(o);try{for(n.s();!(t=n.n()).done;){if(e===t.value.room)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}function n(e){for(var t=0;t<o.length;t++)if(o[t].name===e)return!0;return!1}function a(e){var t,n={},a=Object(j.a)(e);try{for(a.s();!(t=a.n()).done;){n[t.value]=[]}}catch(c){a.e(c)}finally{a.f()}return n}for(var c,r,o=[],s=e[0].rooms.length,i=e[0].rooms,l=0;l<s;l++){c=a(i);for(var d=0;d<e.length;d++){if(!t(e[d].rooms[l])&&!n(e[d].name)){r=!1;for(var u=0;u<e.length;u++)e[d].rooms[l]!=e[u].rooms[l]||e[d]===e[u]||n(e[u].name)||r||(r=!0,c[e[d].rooms[l]].push(e[d].name))}r||t(e[d].rooms[l])||o.push({room:e[d].rooms[l],name:e[d].name})}for(var b in c)if(!t(b)&&c[b].length>0){var h=Math.floor(Math.random()*Math.floor(c[b].length)),O=c[b][h];o.push({name:O,room:b})}}return o},d=(n(57),n(23)),u=n(58),b=n(59),h=n(49),O=n(60),f=n(61),m=n(62);var x=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(e.rooms),j=Object(i.a)(s,2),l=j[0],u=j[1],b=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function h(){e.setShow(!1)}function O(){e.addPerson(r,l),h()}function x(e){e.preventDefault()}function v(e){var t=document.getElementById(e.target.id).getAttribute("value");e.dataTransfer.setData("Room",t),e.dataTransfer.setData("Rank",e.target.id)}function g(e){e.preventDefault();var t=e.dataTransfer.getData("Room"),n=e.dataTransfer.getData("Rank"),a=e.target.id;!function(e,t,n){var a=l,c=a;if(t>n){c[n]=a[n+1];for(var r=n;r<t;r++)c[r]=a[r+1];c[t]=e}else{c[n]=a[a-1];for(var o=n;o>t;o--)c[o]=a[o-1];c[t]=e}u(c),b()}(t,parseInt(a),parseInt(n))}return Object(c.useEffect)((function(){u(e.rooms),o("")}),[e.show]),Object(a.jsxs)(f.a,{show:e.show,onHide:h,children:[Object(a.jsx)(f.a.Header,{closeButton:!0,children:"Add Person"}),Object(a.jsxs)(f.a.Body,{children:[Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Label,{children:"Name"}),Object(a.jsx)(m.a.Control,{type:"text",onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&e.preventDefault()}})]}),Object(a.jsxs)("div",{className:"Rankings-Holder",children:[Object(a.jsx)("p",{children:"Rankings"}),l.map((function(e,t){return Object(a.jsxs)("div",{className:"Ranking-Holder",children:[Object(a.jsx)("div",{className:"Rank-Pos",children:Object(a.jsxs)("p",{children:[t+1,"."]})}),Object(a.jsx)("div",{id:t,value:e,className:"Room",draggable:!0,onDrop:g,onDragOver:x,onDragStart:v,children:e})]})}))]})]}),Object(a.jsxs)(f.a.Footer,{children:[Object(a.jsx)(d.a,{variant:"danger",onClick:h,children:"Cancel"}),r?Object(a.jsx)(d.a,{variant:"success",onClick:O,children:"Submit"}):Object(a.jsx)(d.a,{variant:"success",disabled:!0,children:"Submit"})]})]})};var v=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),r=n[0],o=n[1];function s(){e.setShow(!1)}function j(){e.addRoom(r),s()}return Object(a.jsxs)(f.a,{show:e.show,onHide:s,children:[Object(a.jsx)(f.a.Header,{closeButton:!0,children:"Add Room"}),Object(a.jsx)(f.a.Body,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Label,{children:"Room Name"}),Object(a.jsx)(m.a.Control,{type:"text",onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),j())}})]})}),Object(a.jsxs)(f.a.Footer,{children:[Object(a.jsx)(d.a,{variant:"danger",onClick:s,children:"Cancel"}),Object(a.jsx)(d.a,{variant:"success",onClick:j,children:"Submit"})]})]})},g=n(37),p=g.Modal,S=g.Button;var R=function(e){return Object(a.jsxs)(p,{show:!0,onHide:function(){e.setShow(!1)},children:[Object(a.jsx)(p.Header,{closeButton:!0,children:"Allocate Rooms"}),Object(a.jsx)(p.Body,{children:e.checkText}),Object(a.jsxs)(p.Footer,{children:[Object(a.jsx)(S,{variant:"danger",children:"Cancel"}),Object(a.jsx)(S,{variant:"success",children:"Allocate Rooms"})]})]})};var y=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(),j=Object(i.a)(s,2),l=j[0],u=j[1],b=Object(c.useState)([]),h=Object(i.a)(b,2),O=h[0],x=h[1],v=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function g(){e.setShow(!1)}function p(){e.updatePerson(l,r,O),g()}function S(e){e.preventDefault()}function R(e){var t=document.getElementById(e.target.id).getAttribute("value");e.dataTransfer.setData("Room",t),e.dataTransfer.setData("Rank",e.target.id)}function y(e){e.preventDefault();var t=e.dataTransfer.getData("Room"),n=e.dataTransfer.getData("Rank"),a=e.target.id;!function(e,t,n){var a=O,c=a;if(t>n){c[n]=a[n+1];for(var r=n;r<t;r++)c[r]=a[r+1];c[t]=e}else{c[n]=a[a-1];for(var o=n;o>t;o--)c[o]=a[o-1];c[t]=e}x(c),v()}(t,parseInt(a),parseInt(n))}return Object(c.useEffect)((function(){x(e.rooms),o(e.name),u(e.name)}),[e.show]),Object(a.jsxs)(f.a,{show:e.show,onHide:g,children:[Object(a.jsx)(f.a.Header,{closeButton:!0,children:"Add Person"}),Object(a.jsxs)(f.a.Body,{children:[Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Label,{children:"Name"}),Object(a.jsx)(m.a.Control,{type:"text",value:r,onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&e.preventDefault()}})]}),Object(a.jsxs)("div",{className:"Rankings-Holder",children:[Object(a.jsx)("p",{children:"Rankings"}),O.map((function(e,t){return Object(a.jsxs)("div",{className:"Ranking-Holder",children:[Object(a.jsx)("div",{className:"Rank-Pos",children:Object(a.jsxs)("p",{children:[t+1,"."]})}),Object(a.jsx)("div",{id:t,value:e,className:"Room",draggable:!0,onDrop:y,onDragOver:S,onDragStart:R,children:e})]})}))]})]}),Object(a.jsxs)(f.a.Footer,{children:[Object(a.jsx)(d.a,{variant:"danger",onClick:g,children:"Cancel"}),r?Object(a.jsx)(d.a,{variant:"success",onClick:p,children:"Submit"}):Object(a.jsx)(d.a,{variant:"success",disabled:!0,children:"Submit"})]})]})};var k=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)([]),l=Object(i.a)(s,2),f=l[0],m=l[1],g=Object(c.useState)(!1),p=Object(i.a)(g,2),S=p[0],k=p[1],w=Object(c.useState)(!1),C=Object(i.a)(w,2),N=C[0],D=C[1],A=Object(c.useState)(!1),B=Object(i.a)(A,2),T=B[0],H=B[1],P=Object(c.useState)(null),F=Object(i.a)(P,2),I=F[0],E=F[1],L=Object(c.useState)([]),M=Object(i.a)(L,2),K=M[0],J=M[1],q=Object(c.useState)(!1),z=Object(i.a)(q,2),G=z[0],Q=z[1],U=Object(c.useState)("are you sure"),V=Object(i.a)(U,2),W=V[0];function X(e){var t=e.target.name,n=e.target.value.split(",");E(t),J(n),H(!0)}function Y(){e.allocateRooms(f)}return V[1],Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(v,{show:S,setShow:k,addRoom:function(e){var t=r;t.push(e),o(t);var n,a=Object(j.a)(f);try{for(a.s();!(n=a.n()).done;){var c=n.value,s=c.rooms;s.length!=t.length&&(s.push(e),c.rooms=s)}}catch(i){a.e(i)}finally{a.f()}}}),Object(a.jsx)(x,{show:N,rooms:r,setShow:D,addPerson:function(e,t){var n={name:e,rooms:t},a=f;f.push(n),m(a)}}),Object(a.jsx)(y,{show:T,rooms:K,name:I,setShow:H,updatePerson:function(e,t,n){var a,c=f,r=Object(j.a)(c);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.name===e&&(o.name=t,o.rooms=n)}}catch(s){r.e(s)}finally{r.f()}m(c)}}),Object(a.jsx)(R,{show:G,checkText:W,setShow:Q,onAllocateRooms:Y}),Object(a.jsxs)(u.a,{children:[Object(a.jsx)(b.a,{children:Object(a.jsxs)("div",{className:"Title",children:[Object(a.jsx)("h1",{children:"Room Allocator"}),Object(a.jsx)("p",{children:"Allocate rooms in your house in the fairest way possible"})]})}),Object(a.jsxs)(b.a,{className:"Body",children:[Object(a.jsxs)(h.a,{className:"Button-Holder",children:[Object(a.jsx)("button",{className:"Add-Button",onClick:function(){k(!0)},children:"Add Room"}),Object(a.jsx)("button",{className:"Add-Button",onClick:function(){r.length<2?alert("Not enough rooms added"):D(!0)},children:"Add Person"})]}),Object(a.jsx)(h.a,{children:Object(a.jsxs)(O.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:"Rooms"})})}),Object(a.jsx)("tbody",{children:0===r.length?Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("i",{children:"No Rooms Added"})})}):r.map((function(e){return Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:e})})}))})]})})]}),Object(a.jsx)(b.a,{children:Object(a.jsxs)(O.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Person"}),Object(a.jsx)("td",{children:"Rankings"})]})}),Object(a.jsx)("tbody",{children:0===f.length?Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("i",{children:"Nobody Added"})})}):f.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsxs)("td",{children:[e.rooms.toString()," ",Object(a.jsx)(d.a,{className:"Edit-Button",name:e.name,value:e.rooms.toString(),onClick:X,children:"Edit"})]})]})}))})]})}),Object(a.jsx)(b.a,{className:"Submit-Button-Holder",children:Object(a.jsx)("button",{className:"Add-Button",onClick:Y,children:"Allocate Rooms"})})]})]})};var w=function(){var e=Object(c.useState)("set-up"),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(null),s=Object(i.a)(o,2),j=s[0],d=s[1];function u(e){var t=l(e);d(t),r("allocated")}return Object(a.jsx)("div",{className:"App",children:function(){switch(n){case"set-up":return Object(a.jsx)(k,{allocateRooms:u});case"allocated":return console.log(j),Object(a.jsx)("div",{children:j.map((function(e){return Object(a.jsxs)("p",{children:[e.name," ","->"," ",e.room]})}))})}}()})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};n(72);s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),C()}},[[73,1,2]]]);
//# sourceMappingURL=main.00c963ab.chunk.js.map