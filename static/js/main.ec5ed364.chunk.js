(this["webpackJsonproom-allocator"]=this["webpackJsonproom-allocator"]||[]).push([[0],{60:function(e,t,n){},68:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),r=n.n(a),o=n(14),s=n.n(o),l=(n(68),n(9)),j=n(28);var i=function(e){function t(e){var t,n=Object(j.a)(o);try{for(n.s();!(t=n.n()).done;){if(e===t.value.room)return!0}}catch(c){n.e(c)}finally{n.f()}return!1}function n(e){for(var t=0;t<o.length;t++)if(o[t].name===e)return!0;return!1}function c(e){var t,n={},c=Object(j.a)(e);try{for(c.s();!(t=c.n()).done;){n[t.value]=[]}}catch(a){c.e(a)}finally{c.f()}return n}for(var a,r,o=[],s=e[0].rooms.length,l=e[0].rooms,i=0;i<s;i++){a=c(l);for(var d=0;d<e.length;d++){if(!t(e[d].rooms[i])&&!n(e[d].name)){r=!1;for(var u=0;u<e.length;u++)e[d].rooms[i]!==e[u].rooms[i]||e[d]===e[u]||n(e[u].name)||r||(r=!0,a[e[d].rooms[i]].push(e[d].name))}r||t(e[d].rooms[i])||o.push({room:e[d].rooms[i],name:e[d].name})}for(var b in a)if(!t(b)&&a[b].length>0){var h=Math.floor(Math.random()*Math.floor(a[b].length)),O=a[b][h];o.push({name:O,room:b})}}return o},d=n(57),u=n(58),b=n(59);var h=function(e){return Object(c.jsxs)(d.a,{children:[Object(c.jsx)(u.a,{children:Object(c.jsx)("div",{className:"Title",children:Object(c.jsx)("h1",{children:"Results"})})}),Object(c.jsx)(u.a,{children:Object(c.jsx)("div",{className:"Results-Page",children:Object(c.jsx)("div",{className:"Results-Holder",children:Object(c.jsxs)(b.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Person"}),Object(c.jsx)("td",{children:"Room"})]})}),Object(c.jsx)("tbody",{children:e.allocations.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.room})]})}))})]})})})}),Object(c.jsx)(u.a,{children:Object(c.jsxs)("div",{className:"Buttons-Holder",children:[Object(c.jsx)("button",{onClick:function(){return e.reallocateRooms(e.choices)},children:"Re-Allocate Rooms"}),Object(c.jsx)("button",{onClick:function(){return e.setState("set-up")},children:"Allocate More Rooms"})]})}),Object(c.jsx)("br",{})]})},O=(n(60),n(23)),m=n(49),x=n(61),f=n(62);var v=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(e.rooms),i=Object(l.a)(s,2),d=i[0],u=i[1],b=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function h(){e.setShow(!1)}function m(){e.addPerson(r,d),h()}function v(e){e.preventDefault()}function g(e){var t=document.getElementById(e.target.id).getAttribute("value");e.dataTransfer.setData("Room",t),e.dataTransfer.setData("Rank",e.target.id)}function p(e){e.preventDefault();var t=e.dataTransfer.getData("Room"),n=e.dataTransfer.getData("Rank"),c=e.target.id;!function(e,t,n){var c=d,a=c;if(t>n){a[n]=c[n+1];for(var r=n;r<t;r++)a[r]=c[r+1];a[t]=e}else{a[n]=c[c-1];for(var o=n;o>t;o--)a[o]=c[o-1];a[t]=e}u(a),b()}(t,parseInt(c),parseInt(n))}return Object(a.useEffect)((function(){var t,n=[],c=Object(j.a)(e.rooms);try{for(c.s();!(t=c.n()).done;){var a=t.value;n.push(a)}}catch(r){c.e(r)}finally{c.f()}u(n),o("")}),[e.show]),Object(c.jsxs)(x.a,{show:e.show,onHide:h,children:[Object(c.jsx)(x.a.Header,{closeButton:!0,children:"Add Person"}),Object(c.jsxs)(x.a.Body,{children:[Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Label,{children:"Name"}),Object(c.jsx)(f.a.Control,{type:"text",onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&e.preventDefault()}})]}),Object(c.jsxs)("div",{className:"Rankings-Holder",children:[Object(c.jsx)("p",{children:"Rankings"}),d.map((function(e,t){return Object(c.jsxs)("div",{className:"Ranking-Holder",children:[Object(c.jsx)("div",{className:"Rank-Pos",children:Object(c.jsxs)("p",{children:[t+1,"."]})}),Object(c.jsx)("div",{id:t,value:e,className:"Room",draggable:!0,onDrop:p,onDragOver:v,onDragStart:g,children:e})]})}))]})]}),Object(c.jsxs)(x.a.Footer,{children:[Object(c.jsx)(O.a,{variant:"danger",onClick:h,children:"Cancel"}),r?Object(c.jsx)(O.a,{variant:"success",onClick:m,children:"Submit"}):Object(c.jsx)(O.a,{variant:"success",disabled:!0,children:"Submit"})]})]})};var g=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1];function s(){e.setShow(!1)}function j(){e.addRoom(r),s()}return Object(c.jsxs)(x.a,{show:e.show,onHide:s,children:[Object(c.jsx)(x.a.Header,{closeButton:!0,children:"Add Room"}),Object(c.jsx)(x.a.Body,{children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Label,{children:"Room Name"}),Object(c.jsx)(f.a.Control,{type:"text",onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),j())}})]})}),Object(c.jsxs)(x.a.Footer,{children:[Object(c.jsx)(O.a,{variant:"danger",onClick:s,children:"Cancel"}),Object(c.jsx)(O.a,{variant:"success",onClick:j,children:"Submit"})]})]})},p=n(32),R=p.Modal,S=p.Button;var y=function(e){function t(){e.setShow(!1)}return Object(c.jsxs)(R,{show:e.show,onHide:t,children:[Object(c.jsx)(R.Header,{closeButton:!0,children:"Allocate Rooms"}),Object(c.jsx)(R.Body,{children:e.checkText}),Object(c.jsxs)(R.Footer,{children:[Object(c.jsx)(S,{variant:"danger",onClick:t,children:"Cancel"}),Object(c.jsx)(S,{variant:"success",onClick:function(){e.allocateRooms()},children:"Allocate Rooms"})]})]})};var k=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(),j=Object(l.a)(s,2),i=j[0],d=j[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],v=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function g(){e.setShow(!1)}function p(){e.updatePerson(i,r,h),g()}function R(e){e.preventDefault()}function S(e){var t=document.getElementById(e.target.id).getAttribute("value");e.dataTransfer.setData("Room",t),e.dataTransfer.setData("Rank",e.target.id)}function y(e){e.preventDefault();var t=e.dataTransfer.getData("Room"),n=e.dataTransfer.getData("Rank"),c=e.target.id;!function(e,t,n){var c=h,a=c;if(t>n){a[n]=c[n+1];for(var r=n;r<t;r++)a[r]=c[r+1];a[t]=e}else{a[n]=c[c-1];for(var o=n;o>t;o--)a[o]=c[o-1];a[t]=e}m(a),v()}(t,parseInt(c),parseInt(n))}return Object(a.useEffect)((function(){m(e.rooms),o(e.name),d(e.name)}),[e.show]),Object(c.jsxs)(x.a,{show:e.show,onHide:g,children:[Object(c.jsx)(x.a.Header,{closeButton:!0,children:"Add Person"}),Object(c.jsxs)(x.a.Body,{children:[Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Label,{children:"Name"}),Object(c.jsx)(f.a.Control,{type:"text",value:r,onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&e.preventDefault()}})]}),Object(c.jsxs)("div",{className:"Rankings-Holder",children:[Object(c.jsx)("p",{children:"Rankings"}),h.map((function(e,t){return Object(c.jsxs)("div",{className:"Ranking-Holder",children:[Object(c.jsx)("div",{className:"Rank-Pos",children:Object(c.jsxs)("p",{children:[t+1,"."]})}),Object(c.jsx)("div",{id:t,value:e,className:"Room",draggable:!0,onDrop:y,onDragOver:R,onDragStart:S,children:e})]})}))]})]}),Object(c.jsxs)(x.a.Footer,{children:[Object(c.jsx)(O.a,{variant:"danger",onClick:g,children:"Cancel"}),r?Object(c.jsx)(O.a,{variant:"success",onClick:p,children:"Submit"}):Object(c.jsx)(O.a,{variant:"success",disabled:!0,children:"Submit"})]})]})};var N=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),h=i[0],x=i[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),R=p[0],S=p[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),C=w[0],D=w[1],A=Object(a.useState)(!1),B=Object(l.a)(A,2),T=B[0],H=B[1],P=Object(a.useState)(null),F=Object(l.a)(P,2),I=F[0],M=F[1],E=Object(a.useState)([]),L=Object(l.a)(E,2),K=L[0],J=L[1],q=Object(a.useState)(!1),z=Object(l.a)(q,2),G=z[0],Q=z[1],U=Object(a.useState)("are you sure"),V=Object(l.a)(U,2),W=V[0],X=V[1];function Y(e){var t=e.target.name,n=e.target.value.split(",");M(t),J(n),H(!0)}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(g,{show:R,setShow:S,addRoom:function(e){var t=r;t.push(e),o(t);var n,c=Object(j.a)(h);try{for(c.s();!(n=c.n()).done;){var a=n.value,s=a.rooms;s.length!==t.length&&(s.push(e),a.rooms=s)}}catch(l){c.e(l)}finally{c.f()}}}),Object(c.jsx)(v,{show:C,rooms:r,setShow:D,addPerson:function(e,t){var n={name:e,rooms:t},c=h;h.push(n),x(c)}}),Object(c.jsx)(k,{show:T,rooms:K,name:I,setShow:H,updatePerson:function(e,t,n){var c,a=h,r=Object(j.a)(a);try{for(r.s();!(c=r.n()).done;){var o=c.value;o.name===e&&(o.name=t,o.rooms=n)}}catch(s){r.e(s)}finally{r.f()}x(a)}}),Object(c.jsx)(y,{show:G,checkText:W,setShow:Q,allocateRooms:function(){e.allocateRooms(h)}}),Object(c.jsxs)(d.a,{children:[Object(c.jsx)(u.a,{children:Object(c.jsxs)("div",{className:"Title",children:[Object(c.jsx)("h1",{children:"Room Allocator"}),Object(c.jsx)("p",{children:"Allocate rooms in your house in the fairest way possible"})]})}),Object(c.jsxs)(u.a,{className:"Body",children:[Object(c.jsxs)(m.a,{className:"Button-Holder",children:[Object(c.jsx)("button",{className:"Add-Button",onClick:function(){S(!0)},children:"Add Room"}),Object(c.jsx)("button",{className:"Add-Button",onClick:function(){r.length<2?alert("Not enough rooms added"):D(!0)},children:"Add Person"})]}),Object(c.jsx)(m.a,{children:Object(c.jsxs)(b.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:"Rooms"})})}),Object(c.jsx)("tbody",{children:0===r.length?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:Object(c.jsx)("i",{children:"No Rooms Added"})})}):r.map((function(e){return Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:e})})}))})]})})]}),Object(c.jsx)(u.a,{children:Object(c.jsxs)(b.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Person"}),Object(c.jsx)("td",{children:"Rankings"})]})}),Object(c.jsx)("tbody",{children:0===h.length?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:Object(c.jsx)("i",{children:"Nobody Added"})})}):h.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsxs)("td",{children:[e.rooms.toString()," ",Object(c.jsx)(O.a,{className:"Edit-Button",name:e.name,value:e.rooms.toString(),onClick:Y,children:"Edit"})]})]})}))})]})}),Object(c.jsx)(u.a,{className:"Submit-Button-Holder",children:Object(c.jsx)("button",{className:"Add-Button",onClick:function(){r.length<2?alert("Not enough rooms"):h.length<2?alert("Not enough people"):r.length>h.length?(X("More rooms than people, are you sure you want to allocate rooms?"),Q(!0)):h.length>r.length?(X("More people than rooms, are you sure you want to allocate rooms?"),Q(!0)):e.allocateRooms(h)},children:"Allocate Rooms"})})]})]})};var w=function(){var e=Object(a.useState)("set-up"),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),s=Object(l.a)(o,2),j=s[0],d=s[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),O=b[0],m=b[1];function x(e){var t=i(e);m(t),d(e),r("allocated")}return Object(c.jsx)("div",{className:"App",children:function(){switch(n){case"set-up":return Object(c.jsx)(N,{allocateRooms:x});case"allocated":return Object(c.jsx)(h,{allocations:O,choices:j,reallocateRooms:x,setState:r});default:return Object(c.jsx)("p",{children:"Somethings gone wrong"})}}()})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};n(72);s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),C()}},[[73,1,2]]]);
//# sourceMappingURL=main.ec5ed364.chunk.js.map