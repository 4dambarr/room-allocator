(this["webpackJsonproom-allocator"]=this["webpackJsonproom-allocator"]||[]).push([[0],{57:function(e,t,n){},68:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),r=n.n(c),o=n(14),s=n.n(o),l=(n(68),n(9)),j=n(58),i=n(59),d=n(60),u=n(36);var b=function(e){function t(e){var t,n=Object(u.a)(o);try{for(n.s();!(t=n.n()).done;){if(e===t.value.room)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}function n(e){for(var t=0;t<o.length;t++)if(o[t].name===e)return!0;return!1}function a(e){var t,n={},a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){n[t.value]=[]}}catch(c){a.e(c)}finally{a.f()}return n}for(var c,r,o=[],s=e[0].rooms.length,l=e[0].rooms,j=0;j<s;j++){c=a(l);for(var i=0;i<e.length;i++){if(!t(e[i].rooms[j])&&!n(e[i].name)){r=!1;for(var d=0;d<e.length;d++)e[i].rooms[j]!==e[d].rooms[j]||e[i]===e[d]||n(e[d].name)||r||(r=!0,c[e[i].rooms[j]].push(e[i].name))}r||t(e[i].rooms[j])||o.push({room:e[i].rooms[j],name:e[i].name})}for(var b in c)if(!t(b)&&c[b].length>0){var h=Math.floor(Math.random()*Math.floor(c[b].length)),O=c[b][h];o.push({name:O,room:b})}}return o},h=(n(57),n(23)),O=n(49),m=n(61),x=n(62);var f=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(e.rooms),j=Object(l.a)(s,2),i=j[0],d=j[1],u=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function b(){e.setShow(!1)}function O(){e.addPerson(r,i),b()}function f(e){e.preventDefault()}function v(e){var t=document.getElementById(e.target.id).getAttribute("value");e.dataTransfer.setData("Room",t),e.dataTransfer.setData("Rank",e.target.id)}function g(e){e.preventDefault();var t=e.dataTransfer.getData("Room"),n=e.dataTransfer.getData("Rank"),a=e.target.id;!function(e,t,n){var a=i,c=a;if(t>n){c[n]=a[n+1];for(var r=n;r<t;r++)c[r]=a[r+1];c[t]=e}else{c[n]=a[a-1];for(var o=n;o>t;o--)c[o]=a[o-1];c[t]=e}d(c),u()}(t,parseInt(a),parseInt(n))}return Object(c.useEffect)((function(){d(e.rooms),o("")}),[e.show]),Object(a.jsxs)(m.a,{show:e.show,onHide:b,children:[Object(a.jsx)(m.a.Header,{closeButton:!0,children:"Add Person"}),Object(a.jsxs)(m.a.Body,{children:[Object(a.jsxs)(x.a,{children:[Object(a.jsx)(x.a.Label,{children:"Name"}),Object(a.jsx)(x.a.Control,{type:"text",onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&e.preventDefault()}})]}),Object(a.jsxs)("div",{className:"Rankings-Holder",children:[Object(a.jsx)("p",{children:"Rankings"}),i.map((function(e,t){return Object(a.jsxs)("div",{className:"Ranking-Holder",children:[Object(a.jsx)("div",{className:"Rank-Pos",children:Object(a.jsxs)("p",{children:[t+1,"."]})}),Object(a.jsx)("div",{id:t,value:e,className:"Room",draggable:!0,onDrop:g,onDragOver:f,onDragStart:v,children:e})]})}))]})]}),Object(a.jsxs)(m.a.Footer,{children:[Object(a.jsx)(h.a,{variant:"danger",onClick:b,children:"Cancel"}),r?Object(a.jsx)(h.a,{variant:"success",onClick:O,children:"Submit"}):Object(a.jsx)(h.a,{variant:"success",disabled:!0,children:"Submit"})]})]})};var v=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1];function s(){e.setShow(!1)}function j(){e.addRoom(r),s()}return Object(a.jsxs)(m.a,{show:e.show,onHide:s,children:[Object(a.jsx)(m.a.Header,{closeButton:!0,children:"Add Room"}),Object(a.jsx)(m.a.Body,{children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(x.a.Label,{children:"Room Name"}),Object(a.jsx)(x.a.Control,{type:"text",onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),j())}})]})}),Object(a.jsxs)(m.a.Footer,{children:[Object(a.jsx)(h.a,{variant:"danger",onClick:s,children:"Cancel"}),Object(a.jsx)(h.a,{variant:"success",onClick:j,children:"Submit"})]})]})},g=n(31),p=g.Modal,S=g.Button;var R=function(e){function t(){e.setShow(!1)}return Object(a.jsxs)(p,{show:e.show,onHide:t,children:[Object(a.jsx)(p.Header,{closeButton:!0,children:"Allocate Rooms"}),Object(a.jsx)(p.Body,{children:e.checkText}),Object(a.jsxs)(p.Footer,{children:[Object(a.jsx)(S,{variant:"danger",onClick:t,children:"Cancel"}),Object(a.jsx)(S,{variant:"success",onClick:function(){e.allocateRooms()},children:"Allocate Rooms"})]})]})};var y=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(),j=Object(l.a)(s,2),i=j[0],d=j[1],u=Object(c.useState)([]),b=Object(l.a)(u,2),O=b[0],f=b[1],v=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function g(){e.setShow(!1)}function p(){e.updatePerson(i,r,O),g()}function S(e){e.preventDefault()}function R(e){var t=document.getElementById(e.target.id).getAttribute("value");e.dataTransfer.setData("Room",t),e.dataTransfer.setData("Rank",e.target.id)}function y(e){e.preventDefault();var t=e.dataTransfer.getData("Room"),n=e.dataTransfer.getData("Rank"),a=e.target.id;!function(e,t,n){var a=O,c=a;if(t>n){c[n]=a[n+1];for(var r=n;r<t;r++)c[r]=a[r+1];c[t]=e}else{c[n]=a[a-1];for(var o=n;o>t;o--)c[o]=a[o-1];c[t]=e}f(c),v()}(t,parseInt(a),parseInt(n))}return Object(c.useEffect)((function(){f(e.rooms),o(e.name),d(e.name)}),[e.show]),Object(a.jsxs)(m.a,{show:e.show,onHide:g,children:[Object(a.jsx)(m.a.Header,{closeButton:!0,children:"Add Person"}),Object(a.jsxs)(m.a.Body,{children:[Object(a.jsxs)(x.a,{children:[Object(a.jsx)(x.a.Label,{children:"Name"}),Object(a.jsx)(x.a.Control,{type:"text",value:r,onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&e.preventDefault()}})]}),Object(a.jsxs)("div",{className:"Rankings-Holder",children:[Object(a.jsx)("p",{children:"Rankings"}),O.map((function(e,t){return Object(a.jsxs)("div",{className:"Ranking-Holder",children:[Object(a.jsx)("div",{className:"Rank-Pos",children:Object(a.jsxs)("p",{children:[t+1,"."]})}),Object(a.jsx)("div",{id:t,value:e,className:"Room",draggable:!0,onDrop:y,onDragOver:S,onDragStart:R,children:e})]})}))]})]}),Object(a.jsxs)(m.a.Footer,{children:[Object(a.jsx)(h.a,{variant:"danger",onClick:g,children:"Cancel"}),r?Object(a.jsx)(h.a,{variant:"success",onClick:p,children:"Submit"}):Object(a.jsx)(h.a,{variant:"success",disabled:!0,children:"Submit"})]})]})};var k=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)([]),b=Object(l.a)(s,2),m=b[0],x=b[1],g=Object(c.useState)(!1),p=Object(l.a)(g,2),S=p[0],k=p[1],w=Object(c.useState)(!1),N=Object(l.a)(w,2),C=N[0],D=N[1],B=Object(c.useState)(!1),A=Object(l.a)(B,2),T=A[0],H=A[1],P=Object(c.useState)(null),F=Object(l.a)(P,2),I=F[0],E=F[1],M=Object(c.useState)([]),L=Object(l.a)(M,2),K=L[0],J=L[1],q=Object(c.useState)(!1),z=Object(l.a)(q,2),G=z[0],Q=z[1],U=Object(c.useState)("are you sure"),V=Object(l.a)(U,2),W=V[0],X=V[1];function Y(e){var t=e.target.name,n=e.target.value.split(",");E(t),J(n),H(!0)}return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(v,{show:S,setShow:k,addRoom:function(e){var t=r;t.push(e),o(t);var n,a=Object(u.a)(m);try{for(a.s();!(n=a.n()).done;){var c=n.value,s=c.rooms;s.length!==t.length&&(s.push(e),c.rooms=s)}}catch(l){a.e(l)}finally{a.f()}}}),Object(a.jsx)(f,{show:C,rooms:r,setShow:D,addPerson:function(e,t){var n={name:e,rooms:t},a=m;m.push(n),x(a)}}),Object(a.jsx)(y,{show:T,rooms:K,name:I,setShow:H,updatePerson:function(e,t,n){var a,c=m,r=Object(u.a)(c);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.name===e&&(o.name=t,o.rooms=n)}}catch(s){r.e(s)}finally{r.f()}x(c)}}),Object(a.jsx)(R,{show:G,checkText:W,setShow:Q,allocateRooms:function(){e.allocateRooms(m)}}),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(i.a,{children:Object(a.jsxs)("div",{className:"Title",children:[Object(a.jsx)("h1",{children:"Room Allocator"}),Object(a.jsx)("p",{children:"Allocate rooms in your house in the fairest way possible"})]})}),Object(a.jsxs)(i.a,{className:"Body",children:[Object(a.jsxs)(O.a,{className:"Button-Holder",children:[Object(a.jsx)("button",{className:"Add-Button",onClick:function(){k(!0)},children:"Add Room"}),Object(a.jsx)("button",{className:"Add-Button",onClick:function(){r.length<2?alert("Not enough rooms added"):D(!0)},children:"Add Person"})]}),Object(a.jsx)(O.a,{children:Object(a.jsxs)(d.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:"Rooms"})})}),Object(a.jsx)("tbody",{children:0===r.length?Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("i",{children:"No Rooms Added"})})}):r.map((function(e){return Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:e})})}))})]})})]}),Object(a.jsx)(i.a,{children:Object(a.jsxs)(d.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Person"}),Object(a.jsx)("td",{children:"Rankings"})]})}),Object(a.jsx)("tbody",{children:0===m.length?Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:Object(a.jsx)("i",{children:"Nobody Added"})})}):m.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsxs)("td",{children:[e.rooms.toString()," ",Object(a.jsx)(h.a,{className:"Edit-Button",name:e.name,value:e.rooms.toString(),onClick:Y,children:"Edit"})]})]})}))})]})}),Object(a.jsx)(i.a,{className:"Submit-Button-Holder",children:Object(a.jsx)("button",{className:"Add-Button",onClick:function(){r.length<2?alert("Not enough rooms"):m.length<2?alert("Not enough people"):r.length>m.length?(X("More rooms than people, are you sure you want to allocate rooms?"),Q(!0)):m.length>r.length?(X("More people than rooms, are you sure you want to allocate rooms?"),Q(!0)):e.allocateRooms(m)},children:"Allocate Rooms"})})]})]})};var w=function(){var e=Object(c.useState)("set-up"),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(null),s=Object(l.a)(o,2),u=s[0],h=s[1];function O(e){var t=b(e);h(t),r("allocated")}return Object(a.jsx)("div",{className:"App",children:function(){switch(n){case"set-up":return Object(a.jsx)(k,{allocateRooms:O});case"allocated":return console.log(u),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(i.a,{children:Object(a.jsx)("div",{className:"Title",children:Object(a.jsx)("h1",{children:"Results"})})}),Object(a.jsx)(i.a,{children:Object(a.jsx)("div",{className:"Results-Page",children:Object(a.jsx)("div",{className:"Results-Holder",children:Object(a.jsxs)(d.a,{className:"Table",striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Person"}),Object(a.jsx)("td",{children:"Room"})]})}),Object(a.jsx)("tbody",{children:u.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.room})]})}))})]})})})})]});default:return Object(a.jsx)("p",{children:"Somethings gone wrong"})}}()})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};n(72);s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),N()}},[[73,1,2]]]);
//# sourceMappingURL=main.952898e3.chunk.js.map